<div class="container">

  <br><br>
  <div class="row">
    <div class="col s6 left">

      <!--Search bar-->
      <nav>
          <div class="nav-wrapper">
            <form>
              <div class="input-field">
                <input  autocomplete="off" id="search1" id="search" type="search" required>
                <label for="search"><i class="material-icons">search</i></label>
                <i class="material-icons">close</i>
              </div>
            </form>
          </div>
      </nav>

      <div class="collection" id="collection1">
         <a id="li1-1" class="collection-item"></a>
         <a id="li1-2" class="collection-item"></a>
         <a id="li1-3" class="collection-item"></a>
         <a id="li1-4" class="collection-item"></a>
         <a id="li1-5" class="collection-item"></a>
      </div>

      <div class="row">
        <div class="col s12">
          <span id="append1"></span>
        </div>
      </div>


    </div>

    <div class="col s6 right">

        <!--Search bar-->
          <nav>
              <div class="nav-wrapper">
                <form>
                  <div class="input-field">
                    <input id="search2" type="search" required>
                    <label for="search"><i class="material-icons">search</i></label>
                    <i class="material-icons">close</i>
                  </div>
                </form>
              </div>
        </nav>

        <div class="collection" id="collection2">
         <a id="li2-1" class="collection-item"></a>
         <a id="li2-2" class="collection-item"></a>
         <a id="li2-3" class="collection-item"></a>
         <a id="li2-4" class="collection-item"></a>
         <a id="li2-5" class="collection-item"></a>
       </div>

        <span id="append2"></span>

    </div>
  </div>

  <br><hr><br>

  <!--This is the slider-->
  <div id="slider"></div>

  <br><br>

  <!--This is where the control panel goes-->
  <div class="row row-1">
    <div class="col s3 center">
      <button onclick="document.getElementById('air_horn').pause();document.getElementById('air_horn').currentTime = 0; document.getElementById('air_horn').play()" class="waves-effect waves-light btn">Air Horn</button>
    	<audio id="air_horn">
    	  <source src="./sounds/air_horn.mp3">
    	</audio>
    </div>

    <div class="col s3 center">
      <button onclick="document.getElementById('shotgun').pause();document.getElementById('shotgun').currentTime = 0; document.getElementById('shotgun').play()"  class="waves-effect waves-light btn">Shotgun</button>
    	<audio id="shotgun">
    	  <source src="./sounds/shotgun.mp3">
    	</audio>
    </div>

    <div class="col s3 center">
      <button onclick="document.getElementById('awe_yeah').pause();document.getElementById('awe_yeah').currentTime = 0; document.getElementById('awe_yeah').play()"  class="waves-effect waves-light btn">Awe Yeah</button>
    	<audio id="awe_yeah">
    	  <source src="./sounds/awe_yeah.mp3">
    	</audio>
    </div>

    <div class="col s3 center">
      <button onclick="document.getElementById('evil_laugh').pause();document.getElementById('evil_laugh').currentTime = 0; document.getElementById('evil_laugh').play()"  class="waves-effect waves-light btn">Evil Laugh</button>
    	<audio id="evil_laugh">
    	  <source src="./sounds/evil_laugh.mp3">
    	</audio>
    </div>

    </div>

    <div class="row row-2">

    <div class="col s3 center">
      <button onclick="document.getElementById('lazer').pause();document.getElementById('lazer').currentTime = 0; document.getElementById('lazer').play()"  class="waves-effect waves-light btn">Lazer</button>
    	<audio id="lazer">
    	  <source src="./sounds/lazer.mp3">
    	</audio>
    </div>

    <div class="col s3 center">
      <button onclick="document.getElementById('monster_kill').pause();document.getElementById('monster_kill').currentTime = 0; document.getElementById('monster_kill').play()"  class="waves-effect waves-light btn">Monster Kill</button>
    	<audio id="monster_kill">
    	  <source src="./sounds/monster_kill.mp3">
    	</audio>
    </div>

    <div class="col s3 center">
      <button onclick="document.getElementById('msn').pause();document.getElementById('msn').currentTime = 0; document.getElementById('msn').play()"  class="waves-effect waves-light btn">MSN</button>
    	<audio id="msn">
    	  <source src="./sounds/msn.mp3">
    	</audio>
    </div>

    <div class="col s3 center">
      <button onclick="document.getElementById('pydu').pause();document.getElementById('pydu').currentTime = 0; document.getElementById('pydu').play()"  class="waves-effect waves-light btn">PYDU</button>
    	<audio id="pydu">
    	  <source src="./sounds/pydu.mp3">
    	</audio>
    </div>

  </div>

  <div class="row row-3">

    <div class="col s3 center">
      <button onclick="document.getElementById('remix').pause();document.getElementById('remix').currentTime = 0; document.getElementById('remix').play()"  class="waves-effect waves-light btn">Remix</button>
    	<audio id="remix">
    	  <source src="./sounds/remix.mp3">
    	</audio>
    </div>

    <div class="col s3 center">
      <button onclick="document.getElementById('tiwwf').pause();document.getElementById('tiwwf').currentTime = 0; document.getElementById('tiwwf').play()"  class="waves-effect waves-light btn">TIWWF</button>
    	<audio id="tiwwf">
    	  <source src="./sounds/tiwwf.mp3">
    	</audio>
    </div>

    <div class="col s3 center">
      <button onclick="document.getElementById('yeah').pause();document.getElementById('yeah').currentTime = 0; document.getElementById('yeah').play()"  class="waves-effect waves-light btn">Yeah</button>
    	<audio id="yeah">
    	  <source src="./sounds/yeah.mp3">
    	</audio>
    </div>

    <div class="col s3 center">
      <button onclick="document.getElementById('scratch_1').pause();document.getElementById('scratch_1').currentTime = 0; document.getElementById('scratch_1').play()"  class="waves-effect waves-light btn">Scratch 1</button>
    	<audio id="scratch_1">
    	  <source src="./sounds/scratch_1.mp3">
    	</audio>
    </div>

  </div>

  <div class="row row-4">

    <div class="col s3 center">
      <button onclick="document.getElementById('scratch_2').pause();document.getElementById('scratch_2').currentTime = 0; document.getElementById('scratch_2').play()"  class="waves-effect waves-light btn">Scratch 2</button>
    	<audio id="scratch_2">
    	  <source src="./sounds/scratch_2.mp3">
    	</audio>
    </div>

    <div class="col s3 center">
      <button onclick="document.getElementById('scratch_3').pause();document.getElementById('scratch_3').currentTime = 0; document.getElementById('scratch_3').play()"  class="waves-effect waves-light btn">Scratch 3</button>
    	<audio id="scratch_3">
    	  <source src="./sounds/scratch_3.mp3">
    	</audio>
    </div>

    <div class="col s3 center">
      <button onclick="document.getElementById('scratch_4').pause();document.getElementById('scratch_4').currentTime = 0; document.getElementById('scratch_4').play()"  class="waves-effect waves-light btn">Scratch 4</button>
    	<audio id="scratch_4">
    	  <source src="./sounds/scratch_4.mp3">
    	</audio>
    </div>

    <div class="col s3 center">
      <button onclick="document.getElementById('scratch_5').pause();document.getElementById('scratch_5').currentTime = 0; document.getElementById('scratch_5').play()"  class="waves-effect waves-light btn">Scratch 5</button>
    	<audio id="scratch_5">
    	  <source src="./sounds/scratch_5.mp3">
    	</audio>
    </div>

  </div>



<style media="screen">
  #collection1 {
    display: none;
  }
  #collection2 {
    display: none;
  }
</style>


<script>
  // initialize the soundcloud api

  var TRACK_ONE = null;
  var TRACK_TWO = null;

  SC.initialize({
    client_id: '8214b362bafcc90d268a35aa7d6de6e0',
    single_active: false,
    default_height: 200
  });

  $('#search1').keyup(function(event){
    $('#collection1').fadeIn();
    // capture search string first
    var searchString = $('#search1').val();

    if (searchString == ''){
      $('#collection1').fadeOut();
    }

    SC.get('/tracks', {
      q: searchString,
      limit: '5'
    }).then(function(tracks) {
      console.log('TRACKS', tracks[0], "END");
      for(var i = 1; i < 6; i++){
        $('#li1-' + i).html(tracks[i-1].title + '<br><hr>' + '<img src=' + tracks[i-1].artwork_url + 'alt="artwork">');
        $('#li1-' + i).fadeIn();
      }

      if (event.keyCode == 13){
        $('#collection1').fadeOut();
        var track_url = tracks[0].uri;
        SC.oEmbed(track_url, { auto_play: true, single_active: false, maxheight: 200 }).then(function(oEmbed) {
          console.log('oEmbed response: ', oEmbed);
          if ($('iframe').hasClass('trackone') || $('#trackone').length){
            $('.trackone').remove();
          }
          $('#append1').append(oEmbed.html);
          $($('#append1').children()[0]).addClass('trackone').attr('id', 'trackone');
          $('#collection1').fadeOut();
          TRACK_ONE = $('#trackone');
        });
      }
    });
  });


  $('#search2').keyup(function(event){
    $('#collection2').fadeIn();
    // capture search string first
    var searchString = $('#search2').val();
    if (searchString == ''){
      $('#collection2').fadeOut();
    }

    SC.get('/tracks', {
      q: searchString,
      limit: '5'
    }).then(function(tracks) {
      console.log('TRACKS', tracks[0].uri);
      for(var i = 1; i < 6; i++){
        $('#li2-' + i).html(tracks[i-1].title + '<br><hr>' + '<img src=' + tracks[i-1].artwork_url + '>');
        $('#li2-' + i).fadeIn();
      }

      if (event.keyCode == 13){
        var track_url = tracks[0].uri;
        SC.oEmbed(track_url, { auto_play: true, single_active: false, maxheight: 200 }).then(function(oEmbed) {
          if ($('iframe').hasClass('tracktwo') || $('#tracktwo').length ){
            $('.tracktwo').remove();
          }
          $('#append2').append(oEmbed.html);
          $($('#append2').children()[0]).addClass('tracktwo').attr('id', 'tracktwo');
          $('#collection2').fadeOut();
          TRACK_TWO = $('#tracktwo');
        });
      }
    });
  });

  // SLIDER STUFF
    $( "#slider" ).slider({
      max: 200,
      value: 100,
      slide: function(event, ui){
        // capture both elements
        //console.log(ui.value);
        var widget1 = null;
        var widget2 = null;

        if ($('#trackone').length){
           widget1 = SC.Widget(document.getElementById('trackone'));
        }
        if ($('#tracktwo').length){
          widget2 = SC.Widget(document.getElementById('tracktwo'));
        }


        if (ui.value < 100){

          widget2.getVolume(function(volume){
            var decVol = (ui.value / Math.pow(100, 1));
            console.log(" < 100", decVol);
            widget2.setVolume(decVol);
          })

        }
        if (ui.value == 100){
          widget1.setVolume(1);
          widget2.setVolume(1);
        }
        if (ui.value > 100){
          widget1.getVolume(function(volume){
            var decVol = ((ui.value) / Math.pow(100, 1));
            decVol = 2 - decVol;
            console.log('> 100', decVol);
            widget1.setVolume(decVol);
          })
        }
        //console.log(ui.value);
      }
    });

  // find all sounds of buskers licensed under 'creative commons share alike'

</script>
